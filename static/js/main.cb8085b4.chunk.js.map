{"version":3,"sources":["components/KakaoMap/MapLoader.tsx","components/KakaoMap/index.tsx","components/HorizontalContainer.tsx","components/Dot.tsx","components/Aside.tsx","providers/StatusProvider.tsx","components/IconButton.tsx","pages/Map/Controls/ViewerButtons.tsx","hooks/index.ts","pages/Map/Timeline.tsx","pages/Map/colors.ts","pages/Map/Viewer.tsx","helpers/stringFormat.ts","components/Point.tsx","pages/Map/Controls/EditorButtons.tsx","helpers/colors.ts","helpers/unionSet.ts","pages/Map/Editor.tsx","helpers/fileInteracts.ts","providers/ControlProvider.tsx","pages/Map/index.tsx","pages/App.tsx","reportWebVitals.ts","index.tsx"],"names":["Dimmer","styled","div","_templateObject","_taggedTemplateLiteral","MapLoader","props","_useInjectKakaoMapApi","useInjectKakaoMapApi","appkey","process","libraries","retries","loading","error","React","createElement","Fragment","Map","ContainerStyled","_ref","position","css","_templateObject2","_templateObject3","ContentStyled","_templateObject4","_ref2","gap","concat","Divider","MUIDivider","orientation","HorizontalContainer","_ref3","_ref3$gap","_ref3$style","style","children","paddleAnimation","keyframes","Circle","color","size","animate","Container","Dot","_ref3$color","_ref3$size","className","ContainerWrapper","fold","FoldButtonContainerStyled","FoldButtonStyled","_templateObject5","ref","_useState","useState","_useState2","_slicedToArray","setFold","ArrowIcon","useCallback","sx","width","fontSize","KeyboardDoubleArrowRightIcon","KeyboardDoubleArrowLeftIcon","onClick","evt","prev","Aside","forwardRef","initialState","currentTime","log","Context","createContext","undefined","StatusProvider","state","setState","Provider","value","_objectSpread","IconButton","_ref$tooltip","tooltip","_ref$tooltipColor","tooltipColor","_ref$tooltipPlacement","tooltipPlacement","_ref$tooltipSize","tooltipSize","active","_ref$disabled","disabled","_ref$loading","_ref$variant","variant","MuiTooltip","arrow","title","placement","MuiIconButton","--IconButton-size","CircularProgress","MenuButton","_ref$active","icon","PlaySpeedButton","speed","onSelectSpeed","_React$useState","_React$useState2","anchorEl","setAnchorEl","isOpen","Boolean","close","Item","item","MenuItem","Object","assign","selected","select","toFixed","event","currentTarget","SlowMotionVideoIcon","Menu","open","onClose","SliderWrapperStyled","ViewerButtons","running","runable","progressMax","progressCurrent","expanded","onProgressUpdated","onClickPlay","onClickExpand","PlayControlButton","PauseIcon","PlayArrowIcon","ExpandButton","KeyboardDoubleArrowDownIcon","KeyboardDoubleArrowUpIcon","Slider","aria-label","defaultValue","min","max","step","valueLabelDisplay","onChange","console","marginLeft","_regeneratorRuntime","exports","Op","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","record","result","__await","then","unwrapped","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","useDynamicFetch","initialData","arguments","url","setInternalUrl","_useState3","_useState4","data","setData","_useState5","_useState6","setLoading","_useState7","_useState8","setError","useEffect","_asyncToGenerator","_callee","_context","axios","t0","apply","fetchData","requestUrl","DEFAULT_TRACK_STYLE","Date","getTimezoneOffset","backgroundColor","borderRadius","boxShadow","trackStyleByStatus","status","opacity","createTracksByVehicle","vehicle_id","schedules","id","elements","map","load_time","start_time","task_id","unload_time","start","end","tracks","timedelta","date","delta","getTime","EmptyMessageStyled","Timeline","time","snapshot","setSnapshot","current","range","setRange","terminated","setTerminated","getFullYear","year","setYear","_useState9","getMonth","_useState10","month","setMonth","_useState11","getDay","_useState12","day","setDay","_useState13","getHours","_useState14","hour","setHour","_useState15","getMinutes","_useState16","minute","setMinute","stepable","minutes","startDate","curDate","toLocaleDateString","getDate","_useDynamicFetch","_useDynamicFetch2","response","requestSchedule","now","timebar","useMemo","COLUMNS","toLocaleTimeString","cells","_toConsumableArray","Array","_","index","useAsGrid","Result","logs","ExternalTimeline","scale","zoom","enableSticky","V_COLORS","MarkerType","LogIcon","isHover","setHover","display","justifyItems","alignItems","height","onMouseOver","onMouseLeave","VehicleLogInfoStyled","RoadLineStyled","VehicleIconTooltipStyled","Icon","iconStyle","fill","marginTop","LocalTaxiIcon","HailIcon","LogInfoStyled","get_slope_weight","x1","y1","x2","y2","cx","cy","lx","Math","abs","ly","dx","dy","r","sqrt","ViewerBottomFixedWrapperStyled","_ref4","expand","ViewerButtonsClearStyled","_templateObject6","TimelineWrapperStyled","_templateObject7","INITIAL_DATE","Viewer","markerPositions","setMarkerPositions","_useStatusState","ctx","useContext","useStatusState","_useStatusState2","level","setLevel","setRunable","setRunning","setSpeed","progress","setProgress","_useState17","_useState18","elapsedMinutes","setElapsedMinutes","_useState19","_useState20","setLog","_useState21","_useState22","vehiclesState","setVehiclesState","responseLog","requestLog","_useState23","_useState24","displayTime","setDisplayTime","timeShifted","t","_parseDate","second","getSeconds","logFull","useMap","getLevel","vehicles","tasks","vMarkers","from","_ref6","lat","lng","get","tMarkers","_ref7","pick_lat","pick_lng","drop_lat","drop_lng","flat","filter","newState","_i","_Array$from","vehicle","set","nameCollected","Set","v","newMap","_i2","_nameCollected","allocated_id","interval","DEFAULT_TIMESTEP","timer","setTimeout","clearTimeout","fitMapBound","nodes","bounds","kakao","maps","LatLngBounds","_ref9","extend","LatLng","setBounds","focusTo","_ref10","panTo","LogItemVehicleWithTask","_ref11","vehicleTooltip","IconEmptyStyle","borderWidth","borderColor","borderStyle","justifySelf","borderTop","background","top","left","transition","zIndex","margin","_ref12","isPicked","isDroped","IconReadyStyle","IconNotReadyStyle","IconReadyInnerStyle","cursor","LogInfo","_ref13","thisVehicle","thisTasks","_ref14","StateViewer","Typography","translate","textAlign","Stack","spacing","marginBottom","options","timeZone","dateString","Intl","DateTimeFormat","dateStyle","format","dayPeriod","_timeFormat$split$1$s","hour12","split","_timeFormat$split$1$s2","join","humanizeDate","e","safeHumanizeDate","_useState25","_useState26","isExpandTimeline","setExpanedTimeline","_ref15","CustomOverlayMap","cc","parentElement","_ref$color","Point","_ref4$size","_ref4$selected","onMouseEnter","onMouseDown","onMouseUp","data-id","EditorButtons","editMode","onModeChanged","onClickUpload","onClickDownload","onSelectMode","mode","ModeButtons","GrainIcon","PolylineIcon","OpenWithIcon","UploadButton","useRef","htmlFor","accept","UploadIcon","click","DownloadButton","DownloadIcon","arrayToHex","rgb","c","toString","padStart","shuffleArray","array","a","j","floor","random","temp","UnionSet","_classCallCheck","parentIdx","_createClass","parent","president","find","b","ga","gb","saveGraphFile","edges","json","keyToIndex","indexOf","transformed","to","filename","blob","document","download","href","URL","createObjectURL","dataset","downloadurl","addEventListener","revokeObjectURL","saveFile","toISOString","Blob","JSON","stringify","Editor","setNodes","bufNodes","_setBufNodes","setEdges","setEditMode","setSelected","cursorPos","setCursorPos","_visibleEdges","_setVisibleEdges","graphColors","setGraphColors","visibleEdges","edge","_edges","_step","_iterator","_createForOfIteratorHelper","s","n","f","_step2","union","_iterator2","merge","_step3","colorMap","groupColors","_iterator3","round","_step4","_iterator4","getMapBounds","getBounds","getNorthEast","getSouthWest","ne","sw","getLat","getLng","bottom","right","setTmpNodes","newNodes","_getMapBounds","nodesInGrid","_ref8","grid","compressNodesInGrid","isSelected","selectedNode","node","findNode","_step5","_iterator5","getNode","isNodeVisible","relayout","hasNode","_selected","fromID","toID","createEdge","onMapClick","latLng","nodeId","onMapMouseUp","onMapMouseMove","updateNodes","addListener","setCursor","removeListener","onMouseDownPoint","container","target","closest","getAttribute","mouseType","button","onMouseUpPoint","guideLine","Polyline","path","strokeWeight","strokeColor","strokeOpacity","strokeStyle","NodePoints","_ref16","EdgeLines","_ref17","_ref18","_ref19","loadGraphFromFile","files","file","reader","FileReader","_JSON$parse","parse","_ref20","_ref21","_unused","window","alert","readAsText","downloadGraphToFile","viewSpeed","viewRunning","ControlProvider","useControlState","SwitchButton","Button","startDecorator","borderTopRightRadius","borderBottomRightRadius","CableIcon","borderTopLeftRadius","borderBottomLeftRadius","_useControlState","_useControlState2","controls","setControls","SwitchButtonControlled","padding","KakaoMap","center","onZoomChanged","App","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render"],"mappings":"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","file":"static/js/main.cb8085b4.chunk.js","sourcesContent":["import React, { useEffect } from \"react\"\n\nimport KakaoMapSDK, {\n  Map,\n  useInjectKakaoMapApi,\n  useMap,\n} from \"react-kakao-maps-sdk\"\nimport styled from \"styled-components\"\n\ntype MapProps = KakaoMapSDK.MapProps & {\n  style?: React.CSSProperties\n}\n\nconst Dimmer = styled.div`\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: rgb(0, 0, 0, 0.5);\n  backdrop-filter: blur(5px);\n`\n\nexport default function MapLoader(props: MapProps): React.ReactElement {\n  const { loading, error } = useInjectKakaoMapApi({\n    appkey: process.env.REACT_APP_KAKAO_MAP_API_KEY as string,\n    libraries: [\"services\", \"clusterer\"],\n    retries: 3,\n  })\n  return (\n    <>\n      {loading || error ? (\n        <Dimmer />\n      ) : (\n        <Map {...(props as KakaoMapSDK.MapProps)} />\n      )}\n    </>\n  )\n}\n","import MapLoader from \"./MapLoader\"\n\nexport default MapLoader\n","import React from \"react\"\nimport MUIDivider from \"@mui/joy/Divider\"\nimport styled, { css } from \"styled-components\"\n\nconst ContainerStyled = styled.div<{ position: \"top\" | \"bottom\" }>`\n  position: absolute;\n  display: flex;\n  left: calc(0px + 50%);\n  translate: -50% 0%;\n  margin: 0 auto;\n  width: fit-content;\n  height: 42px;\n  place-items: center;\n  padding: 6px;\n  background: white;\n  border-radius: 8px;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 1em;\n  box-sizing: border-box;\n\n  ${({ position }: any) =>\n    position == \"top\"\n      ? css`\n          top: 1rem;\n        `\n      : css`\n          bottom: 1rem;\n        `}\n`\n\nconst ContentStyled = styled.div<{ gap: number }>`\n  display: flex;\n  flex-direction: row;\n  gap: ${({ gap }: any) => `${gap}rem`};\n  margin: 0px auto;\n  place-items: center;\n  box-sizing: border-box;\n`\n\ntype ContainerProps = React.PropsWithChildren & {\n  position: \"top\" | \"bottom\"\n  gap?: number\n  style?: React.CSSProperties\n}\n\nconst HorizontalContainer = ({\n  position,\n  gap = 0.5,\n  style = {},\n  children,\n}: ContainerProps): React.ReactElement => (\n  <ContainerStyled position={position} style={style}>\n    <ContentStyled gap={gap}>{children}</ContentStyled>\n  </ContainerStyled>\n)\n\nexport const Divider = (): React.ReactElement => (\n  <MUIDivider orientation=\"vertical\" />\n)\n\nexport default HorizontalContainer\n","import React from \"react\"\nimport styled, { css, keyframes } from \"styled-components\"\n\nconst paddleAnimation = keyframes`\n  from {\n    transform: scale(1.0);\n    opacity: 1.0;\n  }\n  to {\n    transform: scale(2.0);\n    opacity: 0.0;\n  }\n`\n\ntype CircleStyleProps = {\n  size: number\n  color: string\n  animate?: boolean\n  children?: React.ReactNode | React.ReactNode[]\n}\n\nconst Circle = styled.div`\n  position: absolute;\n  display: flex;\n  width: 1em;\n  height: 1em;\n  background: ${({ color }: CircleStyleProps) => color};\n  border-radius: 8rem;\n  align-items: center;\n  justify-content: center;\n  scale: ${({ size }: CircleStyleProps) => size};\n\n  ${(props: CircleStyleProps) =>\n    props.animate &&\n    css`\n      animation: ${paddleAnimation} 1s ease-in-out infinite;\n    `};\n\n  > .icon {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n`\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`\n\ntype DotProps = {\n  color?: string\n  size?: number\n  children?: React.ReactNode | React.ReactNode[]\n}\n\nconst Dot = ({ color = \"dodgerblue\", size = 2, children }: DotProps) => {\n  return (\n    <Container>\n      <Circle color={color} size={size} animate={true} />\n      <Circle color={color} size={size}>\n        <div className=\"icon\">{children}</div>\n      </Circle>\n    </Container>\n  )\n}\n\nexport default Dot\n","import React, { useState, useCallback, PropsWithChildren } from \"react\"\n\nimport styled, { css, keyframes } from \"styled-components\"\n\nimport KeyboardDoubleArrowLeftIcon from \"@mui/icons-material/KeyboardDoubleArrowLeft\"\nimport KeyboardDoubleArrowRightIcon from \"@mui/icons-material/KeyboardDoubleArrowRight\"\n\nconst ContainerWrapper = styled.div<{ fold: boolean }>`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  max-width: 280px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-items: center;\n  transition: transform 400ms cubic-bezier(0.65, 0.05, 0.36, 1);\n  z-index: 99999;\n\n  ${({ fold }: any) =>\n    fold &&\n    css`\n      transform: translateX(-100%);\n    `}\n`\n\nconst ContainerStyled = styled.div`\n  width: 100%;\n  height: 100%;\n  background-color: #ffffff;\n  border: 0;\n  border-radius: 0;\n  outline: 0;\n  margin: 0;\n  padding: 1em 2em;\n  box-sizing: border-box;\n  box-shadow: 0 0 1em rgba(128, 128, 128, 0.5);\n  overflow-y: auto;\n`\n\nconst FoldButtonContainerStyled = styled.div`\n  position: absolute;\n  display: flex;\n  width: 1.25em;\n  height: 100%;\n  right: -1.25em;\n  justify-content: center;\n  align-items: center;\n`\n\nconst FoldButtonStyled = styled.div`\n  width: 100%;\n  height: 3em;\n  display: flex;\n  padding: 0 2px;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  background-color: #ffffff;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  clip-path: inset(-1em -1em -1em 0px);\n  box-shadow: 0 0 1em rgba(128, 128, 128, 0.5);\n  cursor: pointer;\n`\n\ntype ContainerProps = {\n  _ref: React.ForwardedRef<any>\n  children?: React.ReactNode\n}\n\nconst Container = ({\n  _ref: ref,\n  children,\n}: ContainerProps): React.ReactElement => {\n  const [fold, setFold] = useState<boolean>(true)\n  const ArrowIcon = useCallback(() => {\n    const props = {\n      sx: {\n        width: \"100%\",\n        fontSize: \"1rem\",\n      },\n    }\n    return fold ? (\n      <KeyboardDoubleArrowRightIcon {...props} />\n    ) : (\n      <KeyboardDoubleArrowLeftIcon {...props} />\n    )\n  }, [fold])\n  return (\n    <ContainerWrapper fold={fold}>\n      <ContainerStyled ref={ref}>\n        <>{children}</>\n      </ContainerStyled>\n      <FoldButtonContainerStyled>\n        <FoldButtonStyled\n          onClick={(evt) => {\n            setFold((prev) => !prev)\n          }}\n        >\n          <ArrowIcon />\n        </FoldButtonStyled>\n      </FoldButtonContainerStyled>\n    </ContainerWrapper>\n  )\n}\n\nconst Aside = React.forwardRef((props: PropsWithChildren, ref) => (\n  <Container _ref={ref}>\n    <>{props.children}</>\n  </Container>\n))\n\nexport default Aside\n","import React, { createContext, useState, useContext } from \"react\"\n\nexport interface ContextState<T> {\n  state: T\n  setState: React.Dispatch<React.SetStateAction<T>>\n}\n\nexport type LogFullType = {\n  time: number\n  vehicles: Array<{\n    name: string\n    lat: number\n    lng: number\n    status: number\n    allocated_id: number\n  }>\n  tasks: Array<{\n    id: number\n    pick_lat: number\n    pick_lng: number\n    drop_lat: number\n    drop_lng: number\n    time: number\n    status: number\n  }>\n}\n\nexport interface StatusState {\n  currentTime: number | null\n  log: LogFullType | null\n}\n\nconst initialState: StatusState = {\n  currentTime: null,\n  log: null,\n}\n\nconst Context: any = createContext<ContextState<StatusState> | undefined>(\n  undefined\n)\n\nexport const StatusProvider = (props: any) => {\n  const [state, setState] = useState<StatusState>(initialState)\n\n  return (\n    <Context.Provider value={{ state: { ...state }, setState }}>\n      <>{props.children}</>\n    </Context.Provider>\n  )\n}\n\nexport const useStatusState = (): [\n  StatusState,\n  React.Dispatch<React.SetStateAction<StatusState>>\n] => {\n  const ctx: ContextState<StatusState> | undefined = useContext(Context)\n  if (ctx === undefined) {\n    throw new Error(\"useStatusState should be used within StatusProvider\")\n  }\n  const { state, setState } = ctx\n  return [\n    state as StatusState,\n    setState as React.Dispatch<React.SetStateAction<StatusState>>,\n  ]\n}\n","import React, { useCallback } from \"react\"\n\nimport MuiIconButton from \"@mui/joy/IconButton\"\nimport MuiTooltip from \"@mui/joy/Tooltip\"\nimport CircularProgress from \"@mui/joy/CircularProgress\"\n\ntype IconButtonProps = React.PropsWithChildren & {\n  tooltip?: React.ReactNode\n  tooltipColor:\n    | \"primary\"\n    | \"neutral\"\n    | \"danger\"\n    | \"info\"\n    | \"success\"\n    | \"warning\"\n  tooltipPlacement?:\n    | \"bottom\"\n    | \"left\"\n    | \"right\"\n    | \"top\"\n    | \"bottom-end\"\n    | \"bottom-start\"\n    | \"left-end\"\n    | \"left-start\"\n    | \"right-end\"\n    | \"right-start\"\n    | \"top-end\"\n    | \"top-start\"\n  tooltipSize?: \"sm\" | \"md\" | \"lg\"\n  active: boolean\n  disabled?: boolean\n  loading?: boolean\n  variant?: \"plain\" | \"outlined\" | \"soft\" | \"solid\"\n  size: string\n  onClick: (event: React.MouseEvent<HTMLElement>) => void\n}\n\nconst IconButton = ({\n  tooltip = undefined,\n  tooltipColor = \"primary\",\n  tooltipPlacement = \"bottom\",\n  tooltipSize = \"sm\",\n  active,\n  disabled = false,\n  loading = false,\n  variant = \"plain\",\n  size,\n  onClick,\n  children,\n}: IconButtonProps) => {\n  return (\n    <MuiTooltip\n      arrow\n      title={tooltip}\n      color={tooltipColor}\n      placement={tooltipPlacement}\n      size={tooltipSize}\n      variant={variant}\n    >\n      <MuiIconButton\n        variant={active ? \"solid\" : \"soft\"}\n        sx={{\n          \"--IconButton-size\": size,\n        }}\n        disabled={disabled}\n        onClick={onClick}\n      >\n        {loading ? (\n          <CircularProgress\n            color=\"primary\"\n            size=\"sm\"\n            value={33}\n            variant=\"plain\"\n          />\n        ) : (\n          children\n        )}\n      </MuiIconButton>\n    </MuiTooltip>\n  )\n}\n\nexport default IconButton\n","import React, { useState, useCallback, useRef, useEffect } from \"react\"\n\nimport { Slider, Menu, MenuItem } from \"@mui/joy\"\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\"\nimport PauseIcon from \"@mui/icons-material/Pause\"\nimport KeyboardDoubleArrowUpIcon from \"@mui/icons-material/KeyboardDoubleArrowUp\"\nimport KeyboardDoubleArrowDownIcon from \"@mui/icons-material/KeyboardDoubleArrowDown\"\n\nimport IconButton from \"../../../components/IconButton\"\nimport SlowMotionVideoIcon from \"@mui/icons-material/SlowMotionVideo\"\nimport HorizontalContainer, {\n  Divider,\n} from \"../../../components/HorizontalContainer\"\nimport styled from \"styled-components\"\n\ntype MenuButtonProps = {\n  title?: string\n  active?: boolean\n  disabled?: boolean\n  loading?: boolean\n  icon: React.ReactElement\n  onClick: (event: React.MouseEvent<HTMLElement>) => void\n}\n\nconst MenuButton = ({\n  title,\n  active = false,\n  disabled = false,\n  loading = false,\n  icon,\n  onClick,\n}: MenuButtonProps) => {\n  return (\n    <IconButton\n      tooltip={title}\n      tooltipColor=\"primary\"\n      tooltipPlacement=\"top\"\n      active={active}\n      disabled={disabled}\n      loading={loading}\n      variant=\"outlined\"\n      size={\"32px\"}\n      onClick={onClick}\n    >\n      {icon}\n    </IconButton>\n  )\n}\n\ntype SpeedControlProps = {\n  speed: number\n  onSelectSpeed: (speed: number) => void\n}\n\nconst PlaySpeedButton = ({\n  speed,\n  onSelectSpeed,\n}: SpeedControlProps): React.ReactElement => {\n  const [anchorEl, setAnchorEl] = React.useState(null)\n  const isOpen = Boolean(anchorEl)\n  const handleClick = (event: React.SyntheticEvent<any>) => {\n    setAnchorEl(event.currentTarget)\n  }\n  const close = () => {\n    setAnchorEl(null)\n  }\n  const select = (item: number) => {\n    onSelectSpeed(item)\n    close()\n  }\n\n  const Item = useCallback(\n    (item: number): React.ReactElement => (\n      <MenuItem\n        {...(speed === item && { selected: true, variant: \"soft\" })}\n        onClick={() => select(item)}\n      >\n        x{item.toFixed(1)}\n      </MenuItem>\n    ),\n    [speed]\n  )\n\n  return (\n    <div>\n      <MenuButton\n        title={isOpen ? undefined : \" \"}\n        onClick={handleClick}\n        icon={<SlowMotionVideoIcon />}\n      />\n      <Menu\n        anchorEl={anchorEl}\n        open={isOpen}\n        onClose={close}\n        color=\"primary\"\n        size=\"sm\"\n        variant=\"plain\"\n      >\n        {Item(1.0)}\n        {Item(2.0)}\n        {Item(5.0)}\n        {Item(10.0)}\n      </Menu>\n    </div>\n  )\n}\n\nconst SliderWrapperStyled = styled.div`\n  width: calc(100vw - 600px);\n  width: calc(100svw - 600px);\n  max-width: 480px;\n  padding-left: 0.5rem;\n  padding-right: 1rem;\n  box-sizing: border-box;\n`\n\ntype ViewerButtonsProps = {\n  running: boolean\n  runable: boolean\n  progressMax: number\n  progressCurrent: number\n  expanded: boolean\n  onProgressUpdated: (progress: number) => void\n  onClickPlay: () => void\n  onClickExpand: (expand: boolean) => void\n} & SpeedControlProps\n\nconst ViewerButtons = ({\n  running,\n  runable,\n  progressMax,\n  progressCurrent,\n  speed,\n  expanded,\n  onSelectSpeed,\n  onProgressUpdated,\n  onClickPlay,\n  onClickExpand,\n}: ViewerButtonsProps): React.ReactElement => {\n  const PlayControlButton = useCallback((): React.ReactElement => {\n    return running ? (\n      <MenuButton title=\"\" onClick={onClickPlay} icon={<PauseIcon />} />\n    ) : (\n      <MenuButton\n        title=\"\"\n        disabled={!runable}\n        onClick={onClickPlay}\n        icon={<PlayArrowIcon />}\n      />\n    )\n  }, [running, runable])\n\n  const ExpandButton = useCallback((): React.ReactElement => {\n    return (\n      <>\n        <MenuButton\n          title={expanded ? \"\" : \" \"}\n          icon={\n            expanded ? (\n              <KeyboardDoubleArrowDownIcon />\n            ) : (\n              <KeyboardDoubleArrowUpIcon />\n            )\n          }\n          onClick={() => {\n            onClickExpand(!expanded)\n          }}\n        />\n      </>\n    )\n  }, [expanded, onClickExpand])\n\n  return (\n    <>\n      <HorizontalContainer position=\"bottom\">\n        <PlayControlButton />\n        <PlaySpeedButton speed={speed} onSelectSpeed={onSelectSpeed} />\n        <Divider />\n        <SliderWrapperStyled>\n          <Slider\n            color=\"primary\"\n            aria-label=\"Timestamp\"\n            defaultValue={0}\n            value={progressCurrent}\n            min={0}\n            max={progressMax}\n            step={1}\n            disabled={!runable || running}\n            size=\"md\"\n            valueLabelDisplay=\"off\"\n            variant=\"solid\"\n            onChange={(\n              event: React.SyntheticEvent | Event,\n              value: number | number[]\n            ) => {\n              console.log(\"new value\", value)\n              if (typeof value === \"number\") {\n                onProgressUpdated(value)\n              } else {\n                onProgressUpdated(value[0])\n              }\n            }}\n            style={{\n              width: \"calc(100% - 0.5rem)\",\n              marginLeft: \"0.5rem\",\n            }}\n          />\n        </SliderWrapperStyled>\n        <Divider />\n        <ExpandButton />\n      </HorizontalContainer>\n    </>\n  )\n}\n\nexport default ViewerButtons\n","import { useEffect, useState } from \"react\"\nimport axios from \"axios\"\n\ninterface DynamicFetchResponse {\n  url?: string\n  data: any\n  loading: boolean\n  error: any\n}\n\nexport const useDynamicFetch = (\n  initialData: any = null\n): [DynamicFetchResponse, (url: string) => void] => {\n  const [url, setInternalUrl] = useState<string>()\n  const [data, setData] = useState<any>(initialData)\n  const [loading, setLoading] = useState<boolean>(false)\n  const [error, setError] = useState<any>()\n\n  useEffect(() => {\n    if (!url) {\n      return\n    }\n    const fetchData = async () => {\n      setError(null)\n      setLoading(true)\n      try {\n        const result = await axios(url)\n        setData(result.data)\n      } catch (error) {\n        setError(error)\n      }\n      setLoading(false)\n    }\n    fetchData()\n  }, [url])\n\n  const setUrl = (requestUrl: string) => setInternalUrl(requestUrl)\n  return [{ url, data, loading, error }, setUrl]\n}\n","import React, {\n  useCallback,\n  useState,\n  useEffect,\n  CSSProperties,\n  useMemo,\n} from \"react\"\n// @ts-ignore\nimport ExternalTimeline from \"react-timelines\"\nimport styled from \"styled-components\"\nimport \"react-timelines/lib/css/style.css\"\nimport \"./timeline-overrides.css\"\nimport { useDynamicFetch } from \"../../hooks\"\n\nconst SERVER_HOST = process.env.REACT_APP_SERVER_HOST as string\nconst TIMEZONE_OFFSET = new Date().getTimezoneOffset() * 60 * 1000\nconst COLUMN_GAP = 10 * 60 * 1000 // 10 min\n\ntype ServerScheduleTimeType = {\n  load_time: string\n  start_time: string\n  status: number\n  task_id: number\n  unload_time: string\n}\n\ntype ServerSnapshotLogType = {\n  vehicle_id: string\n  schedules: Array<ServerScheduleTimeType>\n}\n\ntype SnapshotType = {\n  time: number\n  logs: ServerSnapshotLogType[]\n}\n\nconst DEFAULT_TRACK_STYLE: CSSProperties = {\n  backgroundColor: \"#dcdc33\",\n  color: \"#1f1f1f\",\n  borderRadius: \"4px\",\n  boxShadow: \"1px 1px 0px rgba(0, 0, 0, 0.25)\",\n}\n\nconst STATUS_FINISHED = 0\nconst STATUS_WORKING = 1\nconst STATUS_WAITING = 2\n\nconst trackStyleByStatus = (status: number): CSSProperties => {\n  if (status === STATUS_FINISHED) {\n    return {\n      color: \"white\",\n      backgroundColor: \"gray\",\n      opacity: 0.5,\n    }\n  }\n  if (status === STATUS_WORKING) {\n    return {\n      color: \"white\",\n      backgroundColor: \"#0a6bde\",\n    }\n  }\n  if (status === STATUS_WAITING) {\n    return {\n      color: \"white\",\n      backgroundColor: \"#dcdc33\",\n    }\n  }\n  return {}\n}\n\nconst createTracksByVehicle = ({\n  vehicle_id,\n  schedules,\n}: ServerSnapshotLogType) => {\n  return {\n    id: `tracks-for-${vehicle_id}`,\n    title: vehicle_id,\n    elements: schedules.map(\n      ({\n        load_time,\n        start_time,\n        status,\n        task_id,\n        unload_time,\n      }: ServerScheduleTimeType) => ({\n        id: `${vehicle_id}-track-${task_id}`,\n        title: `#${task_id}`,\n        start: new Date(start_time),\n        end: new Date(unload_time),\n        style: { ...DEFAULT_TRACK_STYLE, ...trackStyleByStatus(status) },\n      })\n    ),\n    tracks: [],\n  }\n}\n\ntype TimeRange = {\n  start: Date\n  current: Date\n  end: Date\n}\n\nconst timedelta = (date: Date, delta: number): Date =>\n  new Date(date.getTime() + delta)\n\nconst EmptyMessageStyled = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  color: #9f9f9f;\n`\n\ntype TimelineProps = {\n  time: Date\n}\n\nconst Timeline = ({ time }: TimelineProps) => {\n  const [snapshot, setSnapshot] = useState<SnapshotType>()\n  const [range, setRange] = useState<TimeRange>({\n    start: new Date(),\n    current: new Date(),\n    end: new Date(),\n  })\n  const [terminated, setTerminated] = useState<boolean>(false)\n  const [year, setYear] = useState<number>(time.getFullYear())\n  const [month, setMonth] = useState<number>(time.getMonth() + 1)\n  const [day, setDay] = useState<number>(time.getDay())\n  const [hour, setHour] = useState<number>(time.getHours())\n  const [minute, setMinute] = useState<number>(time.getMinutes())\n\n  const stepable = useCallback(\n    (minutes: number): boolean => {\n      const startDate = new Date(year, month - 1, day)\n      const curDate = timedelta(startDate, minutes * 60 * 1000)\n      return startDate.toLocaleDateString() == curDate.toLocaleDateString()\n    },\n    [year, month, day]\n  )\n\n  useEffect(() => {\n    console.log(\"Timeline time changed\", time)\n    setYear(time.getFullYear())\n    setMonth(time.getMonth() + 1)\n    setDay(time.getDate())\n    setHour(time.getHours())\n    setMinute(time.getMinutes())\n  }, [time])\n\n  useEffect(() => {\n    setTerminated(!stepable(minute))\n  }, [minute])\n\n  const [response, requestSchedule] = useDynamicFetch()\n\n  useEffect(() => {\n    if (terminated) return\n    console.log(\"Request schedule\")\n    const vehicles = 10\n    const tasks = 130\n    const url = `${SERVER_HOST}/schedule/${year}/${month}/${day}/${hour}/${minute}?vehicles=${vehicles}&tasks=${tasks}`\n    requestSchedule(url)\n  }, [year, month, day, hour, minute, terminated])\n\n  useEffect(() => {\n    if (!response) return\n    setSnapshot(response.data as SnapshotType)\n  }, [response])\n\n  useEffect(() => {\n    console.log(\"snapshot\", snapshot)\n    if (!snapshot || !snapshot.time) {\n      setTerminated(true)\n      return\n    }\n    const now = new Date(snapshot.time)\n    setRange({\n      start: timedelta(now, -3 * 3600 * 1000),\n      current: now,\n      end: timedelta(now, 9 * 3600 * 1000),\n    })\n    setTerminated(false)\n  }, [snapshot])\n\n  const timebar = useMemo(() => {\n    const { start, current, end } = range\n    const COLUMNS = (end.getTime() - start.getTime()) / COLUMN_GAP\n    console.log(\"start\", start)\n    console.log(\"end\", end)\n\n    return [\n      {\n        id: \"minutes\",\n        title: current.toLocaleTimeString(),\n        cells: [...Array(COLUMNS)].map((_, index) => {\n          const time = timedelta(start, COLUMN_GAP * index)\n          const end = timedelta(time, COLUMN_GAP)\n          const minute = time.getMinutes()\n          return {\n            id: `header-m-${time.getTime()}`,\n            title: \"\",\n            start: time,\n            end,\n            style:\n              minute == current.getMinutes()\n                ? {\n                    backgroundColor: \"black\",\n                  }\n                : {},\n          }\n        }),\n        useAsGrid: true,\n        style: {},\n      },\n    ]\n  }, [range])\n\n  const Result = useCallback(\n    () =>\n      snapshot && snapshot.logs ? (\n        <ExternalTimeline\n          scale={{\n            start: range.start,\n            end: range.end,\n            zoom: 11,\n          }}\n          timebar={timebar}\n          tracks={snapshot.logs.map(createTracksByVehicle)}\n          now={range.current}\n          enableSticky\n        />\n      ) : (\n        <EmptyMessageStyled>No Data</EmptyMessageStyled>\n      ),\n    [snapshot, timebar]\n  )\n\n  return <Result />\n}\n\nexport default Timeline\n","export const V_COLORS = new Map([\n  [\"V0\", \"#f83cbd\"],\n  [\"V1\", \"#7f209c\"],\n  [\"V2\", \"#3d9630\"],\n  [\"V3\", \"#1dfd57\"],\n  [\"V4\", \"#0a748c\"],\n  [\"V5\", \"#fc193f\"],\n  [\"V6\", \"#188552\"],\n  [\"V7\", \"#7129aa\"],\n  [\"V8\", \"#713fbd\"],\n  [\"V9\", \"#942122\"],\n  [\"V10\", \"#652b94\"],\n  [\"V11\", \"#a61109\"],\n  [\"V12\", \"#32f53b\"],\n  [\"V13\", \"#9f171a\"],\n  [\"V14\", \"#43f02a\"],\n  [\"V15\", \"#a52b5f\"],\n  [\"V16\", \"#b03929\"],\n  [\"V17\", \"#810c76\"],\n  [\"V18\", \"#326f8d\"],\n  [\"V19\", \"#1efd90\"],\n  [\"V20\", \"#9f5c17\"],\n  [\"V21\", \"#18921e\"],\n  [\"V22\", \"#00f7aa\"],\n  [\"V23\", \"#ac2905\"],\n  [\"V24\", \"#837822\"],\n  [\"V25\", \"#20812d\"],\n  [\"V26\", \"#8b1a5e\"],\n  [\"V27\", \"#b55c1d\"],\n  [\"V28\", \"#2076b0\"],\n  [\"V29\", \"#975a26\"],\n  [\"V30\", \"#937213\"],\n  [\"V31\", \"#842156\"],\n  [\"V32\", \"#9c6d36\"],\n  [\"V33\", \"#6cb822\"],\n  [\"V34\", \"#25be30\"],\n  [\"V35\", \"#3b9b41\"],\n  [\"V36\", \"#02b65a\"],\n  [\"V37\", \"#7eb13f\"],\n  [\"V38\", \"#827409\"],\n  [\"V39\", \"#403cbc\"],\n  [\"V40\", \"#255481\"],\n  [\"V41\", \"#70ae06\"],\n  [\"V42\", \"#409f51\"],\n  [\"V43\", \"#202aa9\"],\n  [\"V44\", \"#33811d\"],\n  [\"V45\", \"#0c8439\"],\n  [\"V46\", \"#8b3407\"],\n  [\"V47\", \"#b04060\"],\n  [\"V48\", \"#4738ad\"],\n  [\"V49\", \"#a9511a\"],\n  [\"V50\", \"#438100\"],\n  [\"V51\", \"#ba1f39\"],\n  [\"V52\", \"#90237f\"],\n  [\"V53\", \"#7315a0\"],\n  [\"V54\", \"#03941c\"],\n  [\"V55\", \"#32a647\"],\n  [\"V56\", \"#b2742c\"],\n  [\"V57\", \"#9f2f15\"],\n  [\"V58\", \"#925218\"],\n  [\"V59\", \"#1226b5\"],\n  [\"V60\", \"#921b35\"],\n  [\"V61\", \"#3a1a8e\"],\n  [\"V62\", \"#23810e\"],\n  [\"V63\", \"#572998\"],\n  [\"V64\", \"#1c18bb\"],\n  [\"V65\", \"#a06f1c\"],\n  [\"V66\", \"#b01364\"],\n  [\"V67\", \"#46ac02\"],\n  [\"V68\", \"#ac2329\"],\n  [\"V69\", \"#a26423\"],\n  [\"V70\", \"#3f8b1a\"],\n  [\"V71\", \"#8a5b2e\"],\n  [\"V72\", \"#453c8f\"],\n  [\"V73\", \"#98283a\"],\n  [\"V74\", \"#b83314\"],\n  [\"V75\", \"#313fab\"],\n  [\"V76\", \"#3db578\"],\n  [\"V77\", \"#1c3fbf\"],\n  [\"V78\", \"#403580\"],\n  [\"V79\", \"#2d619d\"],\n  [\"V80\", \"#336c84\"],\n  [\"V81\", \"#8c0f12\"],\n  [\"V82\", \"#3e0ca6\"],\n  [\"V83\", \"#66a62a\"],\n  [\"V84\", \"#a62069\"],\n  [\"V85\", \"#283dab\"],\n  [\"V86\", \"#ae2779\"],\n  [\"V87\", \"#8f0961\"],\n  [\"V88\", \"#ab7737\"],\n  [\"V89\", \"#b7171f\"],\n  [\"V90\", \"#c00129\"],\n  [\"V91\", \"#1b05a2\"],\n  [\"V92\", \"#219514\"],\n  [\"V93\", \"#2e9d51\"],\n  [\"V94\", \"#7b2481\"],\n  [\"V95\", \"#215b87\"],\n  [\"V96\", \"#6e07a4\"],\n  [\"V97\", \"#49ab04\"],\n  [\"V98\", \"#10a772\"],\n  [\"V99\", \"#ae2d52\"],\n])\n","/* global kakao */\n\nimport React, {\n  useEffect,\n  useState,\n  useCallback,\n  useRef,\n  CSSProperties,\n} from \"react\"\n\nimport Dot from \"../../components/Dot\"\nimport Aside from \"../../components/Aside\"\n\nimport LocalTaxiIcon from \"@mui/icons-material/LocalTaxi\"\nimport HailIcon from \"@mui/icons-material/Hail\"\nimport KeyboardDoubleArrowDownIcon from \"@mui/icons-material/KeyboardDoubleArrowDown\"\nimport { Divider, Stack, Typography } from \"@mui/joy\"\nimport MuiTooltip from \"@mui/joy/Tooltip\"\n\nimport { CustomOverlayMap, useMap } from \"react-kakao-maps-sdk\"\n\nimport {\n  useStatusState,\n  StatusState,\n  LogFullType,\n} from \"../../providers/StatusProvider\"\nimport ViewerButtons from \"./Controls/ViewerButtons\"\nimport { humanizeDate } from \"../../helpers/stringFormat\"\nimport styled from \"styled-components\"\nimport Timeline from \"./Timeline\"\nimport { useDynamicFetch } from \"../../hooks\"\nimport { V_COLORS } from \"./colors\"\n\nconst MarkerType = {\n  NONE: -1,\n  VEHICLE: 0,\n  PERSON_PICK: 1,\n  PERSON_DROP: 2,\n}\n\ntype MarkerPosition = {\n  key: string | null\n  color?: string\n  size: number\n  lat: number\n  lng: number\n  type: number\n}\n\ntype VehicleState = {\n  name: string\n  lat: number\n  lng: number\n  allocated_id: number | null\n}\n\ntype TaskType = {\n  id: number\n  drop_lat: number\n  drop_lng: number\n  pick_lat: number\n  pick_lng: number\n  status: number\n  time: number\n}\n\nconst LogIcon = ({\n  color,\n  style,\n  children,\n  tooltip = null,\n  onClick,\n}: any): React.ReactElement => {\n  const [isHover, setHover] = useState<boolean>(false)\n  return (\n    <div\n      style={{\n        backgroundColor: color || \"black\",\n        display: \"flex\",\n        justifyItems: \"center\",\n        alignItems: \"center\",\n        width: \"32px\",\n        height: \"32px\",\n        borderRadius: \"6rem\",\n        ...style,\n      }}\n      onMouseOver={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n      onClick={onClick || null}\n    >\n      <>{children}</>\n      <>{tooltip != null && isHover && tooltip}</>\n    </div>\n  )\n}\n\nconst VehicleLogInfoStyled = styled.div`\n  width: calc(100% - 12px);\n  position: relative;\n  box-sizing: border-box;\n  padding: 0 6px;\n  display: flex;\n  align-items: center;\n`\n\nconst RoadLineStyled = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 3px;\n  background-color: #efefef;\n  border-radius: 1em;\n  z-index: 0;\n`\n\nconst VehicleIconTooltipStyled = styled.div`\n  position: absolute;\n  bottom: calc(-32px / 2 - -8px);\n  font-size: 12px;\n  left: calc(32px / 2);\n  width: fit-content;\n  white-space: nowrap;\n  word-break: keep-all;\n  background: ${({ color }: any) => color};\n  color: white;\n  border-radius: 3px;\n  padding: 2px 6px;\n  box-sizing: border-box;\n  min-width: 32px;\n  transform: translateX(-50%);\n  text-align: center;\n  box-shadow: 0 0 3px rgba(128, 128, 128, 0.2);\n`\n\ntype DisplayIconProps = {\n  type: number\n  style?: CSSProperties\n}\n\nconst Icon = ({ type, style = {} }: DisplayIconProps): any => {\n  const iconStyle = {\n    fill: \"white\",\n    marginTop: \"-1px\",\n    width: \"75%\",\n    ...style,\n  }\n  if (type == MarkerType.NONE) {\n    return <></>\n  } else if (type == MarkerType.VEHICLE) {\n    return <LocalTaxiIcon style={iconStyle} />\n  } else if (type == MarkerType.PERSON_PICK) {\n    return <HailIcon style={iconStyle} />\n  } else if (type == MarkerType.PERSON_DROP) {\n    return <KeyboardDoubleArrowDownIcon style={iconStyle} />\n  }\n}\n\nconst TASK_PICK_COLOR = \"#1d35ef66\"\nconst TASK_DROP_COLOR = \"#4d75ef66\"\n\nconst LogInfoStyled = styled.div`\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  padding: 0.5rem 0;\n`\n\nconst get_slope_weight = (\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  cx: number,\n  cy: number\n) => {\n  const lx = Math.abs(x2 - x1)\n  const ly = Math.abs(y2 - y1)\n  const dx = cx - x1\n  const dy = cy - y1\n  const r = Math.sqrt(dx * dx + dy * dy) / Math.sqrt(lx * lx + ly * ly)\n  return Math.max(0.0, Math.min(r * 100.0, 100.0))\n}\n\nconst ViewerBottomFixedWrapperStyled = styled.div<{ expand: boolean }>`\n  position: fixed;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  background: white;\n  height: 300px;\n  transform: ${({ expand }: any) =>\n    expand ? \"translateY(0px)\" : \"translateY(300px)\"};\n  transition: transform 300ms ease-in-out;\n  box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.2);\n`\n\nconst ViewerButtonsClearStyled = styled.div`\n  position: relative;\n  width: 100%;\n`\n\nconst TimelineWrapperStyled = styled.div`\n  position: absolute;\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  bottom: 0;\n`\n\nconst SERVER_HOST = process.env.REACT_APP_SERVER_HOST as string\n\nconst INITIAL_DATE = new Date(\"2020-08-29 06:00\")\nconst VEHICLES = 10\nconst TASKS = 130\nconst JUMP_MINS = 5\n\nconst parseDate = (t: Date) => ({\n  year: t.getFullYear(),\n  month: t.getMonth() + 1,\n  day: t.getDate(),\n  hour: t.getHours(),\n  minute: t.getMinutes(),\n  second: t.getSeconds(),\n})\n\nconst Viewer = (): React.ReactElement => {\n  const [markerPositions, setMarkerPositions] = useState<Array<MarkerPosition>>(\n    []\n  )\n  const [status, setStatus] = useStatusState()\n  const [level, setLevel] = useState<number>(3)\n  const [runable, setRunable] = useState<boolean>(false)\n  const [running, setRunning] = useState<boolean>(false)\n  const [speed, setSpeed] = useState<number>(1.0)\n  const [progressMax, setProgressMax] = useState<number>(0)\n  const [progress, setProgress] = useState<number>(0)\n  const [elapsedMinutes, setElapsedMinutes] = useState<number>(0)\n  const [log, setLog] = useState<LogFullType | null>()\n  const [vehiclesState, setVehiclesState] = useState<Map<string, VehicleState>>(\n    new Map()\n  )\n  const [responseLog, requestLog] = useDynamicFetch()\n  const [displayTime, setDisplayTime] = useState<Date>(INITIAL_DATE)\n\n  useEffect(() => {\n    const timeShifted = new Date(\n      INITIAL_DATE.getTime() + elapsedMinutes * 60 * 1000\n    )\n    console.log(\"elapsed\", elapsedMinutes)\n    console.log(\"time\", timeShifted)\n    setDisplayTime(timeShifted)\n    const { year, month, day, hour, minute } = parseDate(timeShifted)\n    const url = `${SERVER_HOST}/log/${year}/${month}/${day}/${hour}/${minute}?vehicles=${VEHICLES}&tasks=${TASKS}`\n    requestLog(url)\n  }, [elapsedMinutes])\n\n  useEffect(() => {\n    const { data, loading, error } = responseLog\n    console.log(\"log fetched\", data)\n    setLog(data as LogFullType)\n  }, [responseLog.data])\n\n  useEffect(() => {\n    const { log: logFull } = status as StatusState\n    setRunable(log !== null)\n    setLog(logFull)\n  }, [status])\n\n  const map = useMap()\n\n  useEffect(() => {\n    setLevel(map.getLevel())\n  }, [map])\n\n  useEffect(() => {\n    map.setLevel(level)\n  }, [map, level])\n\n  useEffect(() => {\n    if (!log) return\n\n    const { time, vehicles, tasks } = log\n\n    const vMarkers: Array<MarkerPosition> = Array.from(vehicles || []).map(\n      ({ name, lat, lng }: any) => ({\n        key: name,\n        color: V_COLORS.get(name) || \"#cfcfcf\",\n        size: 5,\n        lat,\n        lng,\n        type: MarkerType.VEHICLE,\n      })\n    )\n\n    const tMarkers: Array<MarkerPosition> = Array.from(tasks || [])\n      .map(\n        ({\n          id,\n          pick_lat,\n          pick_lng,\n          drop_lat,\n          drop_lng,\n          status,\n        }: any): any[] => [\n          0 <= status && status <= 5\n            ? {\n                key: `task-${id}-pick`,\n                color: TASK_PICK_COLOR,\n                size: 4,\n                lat: pick_lat,\n                lng: pick_lng,\n                type: MarkerType.PERSON_PICK,\n              }\n            : null,\n          {\n            key: `task-${id}-drop`,\n            color: TASK_DROP_COLOR,\n            size: 4,\n            lat: drop_lat,\n            lng: drop_lng,\n            type: MarkerType.PERSON_DROP,\n          },\n        ]\n      )\n      .flat()\n      .filter((value) => value !== null)\n\n    console.log(\"markers[v]\", vMarkers)\n    console.log(\"markers[t]\", tMarkers)\n\n    setMarkerPositions([...vMarkers, ...tMarkers])\n    setVehiclesState((prev: Map<string, VehicleState>) => {\n      const newState = new Map(prev)\n      for (const vehicle of Array.from(vehicles || [])) {\n        const { name } = vehicle as VehicleState\n        newState.set(name, vehicle as VehicleState)\n      }\n      return newState\n    })\n  }, [log])\n\n  useEffect(() => {\n    if (!log) return\n    setVehiclesState((prev: Map<string, VehicleState>) => {\n      const nameCollected: string[] = Array.from(\n        new Set<string>(log.vehicles.map((v: any): string => v.name || \"\"))\n      )\n\n      const newMap = new Map(prev)\n      for (const name of nameCollected) {\n        // add empty values having name only\n        newMap.set(name, {\n          name,\n          lat: -1,\n          lng: -1,\n          allocated_id: null,\n        } as VehicleState)\n      }\n      return newMap\n    })\n  }, [log])\n\n  useEffect(() => {\n    if (!running) return\n\n    // 1 frame contains 60 secs\n    const DEFAULT_TIMESTEP = 60 * 1000\n    // 1 frame / 1000 ms\n    const interval = DEFAULT_TIMESTEP / 60 / (speed || 1.0)\n    console.log(\"info\", interval, running, speed)\n\n    const timer = setTimeout(() => {\n      setElapsedMinutes((prev) => prev + JUMP_MINS)\n    }, interval)\n\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [running, speed, elapsedMinutes])\n\n  const fitMapBound = useCallback(\n    (nodes: Array<{ lat: number; lng: number }>) => {\n      if (nodes.length < 1) return\n      const bounds = new kakao.maps.LatLngBounds()\n      nodes.forEach(({ lat, lng }) => {\n        bounds.extend(new kakao.maps.LatLng(lat, lng))\n      })\n      map.setBounds(bounds)\n    },\n    [map]\n  )\n\n  // fit map bound when first map loaded\n  useEffect(() => {\n    fitMapBound([\n      { lat: 37.6299601, lng: 126.8629739 },\n      { lat: 37.4712457, lng: 127.1006907 },\n    ])\n  }, [])\n\n  const focusTo = useCallback(\n    ({ lat, lng }: any) => {\n      map.panTo(new kakao.maps.LatLng(lat, lng))\n    },\n    [map]\n  )\n\n  type LogItemProps = {\n    vehicle: VehicleState\n    tasks: TaskType[]\n  }\n\n  const LogItemVehicleWithTask = ({ vehicle, tasks }: LogItemProps) => {\n    const { name: vehicle_id, lat, lng, allocated_id } = vehicle\n\n    const vehicleTooltip = (\n      <VehicleIconTooltipStyled color={V_COLORS.get(vehicle_id)}>\n        {vehicle_id}\n      </VehicleIconTooltipStyled>\n    )\n\n    if (tasks.length < 1) {\n      const IconEmptyStyle = {\n        backgroundColor: \"transparent\",\n        borderWidth: \"1px\",\n        borderColor: \"gray\",\n        borderStyle: \"dashed\",\n      }\n      return (\n        <>\n          <LogInfoStyled className=\"pairs\" key={`log-info-${vehicle_id}`}>\n            <LogIcon\n              color={\"transparent\"}\n              style={{\n                justifySelf: \"flex-start\",\n                ...IconEmptyStyle,\n              }}\n            />\n            <VehicleLogInfoStyled>\n              <RoadLineStyled\n                style={{\n                  borderTop: `dashed 2px ${V_COLORS.get(vehicle_id)}`,\n                  height: \"auto\",\n                  background: \"transparent\",\n                  borderRadius: 0,\n                }}\n              />\n              <div\n                style={{\n                  position: \"absolute\",\n                  width: \"calc(100% - 32px)\",\n                  top: 0,\n                }}\n              >\n                <LogIcon\n                  key={`logicon-${vehicle_id}`}\n                  color={V_COLORS.get(vehicle_id)}\n                  style={{\n                    position: \"absolute\",\n                    left: \"50%\",\n                    transition: \"all 300ms ease\",\n                    zIndex: 1,\n                    backgroundColor: \"white\",\n                    borderWidth: \"1px\",\n                    borderColor: V_COLORS.get(vehicle_id),\n                    borderStyle: \"dashed\",\n                  }}\n                  tooltip={vehicleTooltip}\n                >\n                  <Icon\n                    type={MarkerType.VEHICLE}\n                    style={{\n                      margin: \"0 auto\",\n                      fill: V_COLORS.get(vehicle_id),\n                    }}\n                  />\n                </LogIcon>\n              </div>\n            </VehicleLogInfoStyled>\n            <LogIcon\n              color={\"transparent\"}\n              style={{\n                justifySelf: \"flex-end\",\n                ...IconEmptyStyle,\n              }}\n            />\n          </LogInfoStyled>\n        </>\n      )\n    }\n\n    const task = tasks[0]\n    const {\n      id: task_id,\n      status,\n      pick_lat,\n      pick_lng,\n      drop_lat,\n      drop_lng,\n    }: TaskType = task as TaskType\n\n    const isPicked = status > 5\n    const isDroped = status > 6\n\n    const IconReadyStyle = {\n      backgroundColor: \"transparent\",\n      borderWidth: \"1px\",\n      borderColor: V_COLORS.get(vehicle_id),\n      borderStyle: \"dashed\",\n    }\n\n    const IconNotReadyStyle = {\n      borderWidth: \"1px\",\n      borderColor: \"transparent\",\n      borderStyle: \"solid\",\n    }\n\n    const IconReadyInnerStyle = {\n      fill: V_COLORS.get(vehicle_id),\n    }\n\n    return (\n      <LogInfoStyled className=\"pairs\" key={`log-info-${vehicle_id}`}>\n        <LogIcon\n          color={status <= 5 ? \"transparent\" : V_COLORS.get(vehicle_id)}\n          style={{\n            justifySelf: \"flex-start\",\n            cursor: \"pointer\",\n            ...(isPicked ? IconNotReadyStyle : IconReadyStyle),\n          }}\n          onClick={() => {\n            focusTo({\n              lat: pick_lat,\n              lng: pick_lng,\n            })\n          }}\n        >\n          <Icon\n            type={MarkerType.PERSON_PICK}\n            style={{\n              margin: \"0 auto\",\n              ...(isPicked ? {} : IconReadyInnerStyle),\n            }}\n          />\n        </LogIcon>\n        <VehicleLogInfoStyled>\n          <RoadLineStyled\n            style={\n              isPicked ? { backgroundColor: V_COLORS.get(vehicle_id) } : {}\n            }\n          />\n          <div\n            style={{\n              position: \"absolute\",\n              width: \"calc(100% - 32px)\",\n              top: 0,\n            }}\n          >\n            <LogIcon\n              key={`logicon-${vehicle_id}`}\n              color={V_COLORS.get(vehicle_id)}\n              style={{\n                position: \"absolute\",\n                left: `${get_slope_weight(\n                  pick_lat,\n                  pick_lng,\n                  drop_lat,\n                  drop_lng,\n                  lat,\n                  lng\n                )}%`,\n                transition: \"all 300ms ease\",\n                cursor: \"pointer\",\n                zIndex: 1,\n              }}\n              tooltip={vehicleTooltip}\n              onClick={() => {\n                focusTo({\n                  lat,\n                  lng,\n                })\n              }}\n            >\n              <Icon\n                type={MarkerType.VEHICLE}\n                style={{\n                  margin: \"0 auto\",\n                }}\n              />\n            </LogIcon>\n          </div>\n        </VehicleLogInfoStyled>\n        <LogIcon\n          color={V_COLORS.get(vehicle_id)}\n          style={{\n            justifySelf: \"flex-end\",\n            cursor: \"pointer\",\n            ...(isDroped ? IconNotReadyStyle : IconReadyStyle),\n          }}\n          onClick={() => {\n            focusTo({\n              lat: drop_lat,\n              lng: drop_lng,\n            })\n          }}\n        >\n          <Icon\n            type={MarkerType.PERSON_DROP}\n            style={{\n              margin: \"0 auto\",\n              ...(isDroped ? {} : IconReadyInnerStyle),\n            }}\n          />\n        </LogIcon>\n      </LogInfoStyled>\n    )\n  }\n\n  const LogInfo = useCallback(\n    ({ time, vehicles, tasks }: any) => {\n      return (\n        <>\n          {Array.from(vehicles.values())\n            .map((value) => value as VehicleState)\n            .map((thisVehicle: VehicleState) => {\n              const { name, lat, lng, allocated_id } = thisVehicle\n              const thisTasks = Array.from(tasks || []).filter(\n                ({ id }: any) => id === allocated_id\n              )\n              return (\n                <LogItemVehicleWithTask\n                  vehicle={thisVehicle}\n                  tasks={thisTasks as TaskType[]}\n                />\n              )\n            })}\n        </>\n      )\n    },\n    [focusTo, vehiclesState]\n  )\n\n  const StateViewer = useCallback((): React.ReactElement => {\n    if (!log) {\n      return (\n        <center\n          style={{\n            position: \"absolute\",\n            top: \"50%\",\n            left: 0,\n            width: \"100%\",\n          }}\n        >\n          <Typography\n            color=\"neutral\"\n            fontSize={2}\n            sx={{\n              translate: \"0% -50%\",\n              textAlign: \"center\",\n            }}\n          >\n              .\n          </Typography>\n        </center>\n      )\n    }\n    const { time, tasks } = log\n    const safeHumanizeDate = () => {\n      try {\n        return humanizeDate(new Date(time))\n      } catch (e) {\n        return \"\"\n      }\n    }\n    return (\n      <Stack spacing={1}>\n        <div key={`log-${time}`}>\n          <Divider\n            sx={{\n              marginTop: \"0.5rem\",\n              marginBottom: \"0.25rem\",\n            }}\n          >\n            <Typography color=\"neutral\" fontSize={2}>\n              {safeHumanizeDate()}\n            </Typography>\n          </Divider>\n          <LogInfo time={time} vehicles={vehiclesState} tasks={tasks} />\n        </div>\n      </Stack>\n    )\n  }, [log, vehiclesState])\n\n  const [isExpandTimeline, setExpanedTimeline] = useState<boolean>(false)\n\n  return (\n    <>\n      {markerPositions.map(\n        ({ key, color, size, lat, lng, type }: MarkerPosition) => (\n          <CustomOverlayMap\n            key={`marker-${key}`}\n            position={{\n              lat,\n              lng,\n            }}\n            ref={(ref: any) => {\n              if (ref == null) return\n              const parentNode = ref.cc.parentElement\n              parentNode.className = \"vehicle-marker\"\n            }}\n          >\n            <Dot color={color || \"dodgerblue\"} size={size / level}>\n              <Icon type={type as number} />\n            </Dot>\n          </CustomOverlayMap>\n        )\n      )}\n\n      <ViewerBottomFixedWrapperStyled expand={isExpandTimeline}>\n        <ViewerButtonsClearStyled>\n          <ViewerButtons\n            running={running}\n            runable={runable}\n            progressMax={progressMax}\n            progressCurrent={progress}\n            speed={speed}\n            expanded={isExpandTimeline}\n            onSelectSpeed={setSpeed}\n            onProgressUpdated={(i: number) =>\n              setProgress(elapsedMinutes * JUMP_MINS)\n            }\n            onClickPlay={() => setRunning(!running)}\n            onClickExpand={setExpanedTimeline}\n          />\n        </ViewerButtonsClearStyled>\n        <TimelineWrapperStyled>\n          <Timeline time={displayTime} />\n        </TimelineWrapperStyled>\n      </ViewerBottomFixedWrapperStyled>\n\n      <Aside>\n        <StateViewer />\n      </Aside>\n    </>\n  )\n}\n\nexport default Viewer\n","export const humanizeDate = (date: Date): string => {\n  const options = {\n    timeZone: \"Asia/Seoul\",\n  }\n  const dateString: string = new Intl.DateTimeFormat(\"ko-kr\", {\n    dateStyle: \"full\",\n    ...options,\n  }).format(date)\n  const dayPeriod: string = new Intl.DateTimeFormat(\"ko-kr\", {\n    dayPeriod: \"long\",\n    ...options,\n  }).format(date)\n  const timeFormat = new Intl.DateTimeFormat(\"ko-kr\", {\n    hour: \"numeric\",\n    minute: \"numeric\",\n    second: \"numeric\",\n    hour12: true,\n    ...options,\n  }).format(date)\n  const [hour, minute, sec] = timeFormat.split(\" \")[1].split(\":\")\n  const timeString: string = `${hour} ${minute}`\n  return [dateString, dayPeriod, timeString].join(\"\\n\")\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\n\ntype CircleStyleProps = {\n  size: number\n  color?: string\n  selected: boolean\n  children?: React.ReactNode | React.ReactNode[]\n}\n\nconst Circle = styled.div`\n  position: absolute;\n  display: flex;\n  width: 0.75em;\n  height: 0.75em;\n  background: white;\n  border-width: 0.15rem;\n  border-style: solid;\n  border-color: ${({ selected, color = \"#d3232f\" }: CircleStyleProps) =>\n    selected ? \"black\" : color};\n  border-radius: 8rem;\n  align-items: center;\n  justify-content: center;\n  scale: ${({ size }: CircleStyleProps) => size};\n  box-sizing: border-box;\n  cursor: pointer;\n\n  &:hover {\n    border-color: ${({ selected, color = \"#a10e25\" }: CircleStyleProps) =>\n      selected ? \"black\" : color};\n  }\n`\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`\n\ntype PointProps = {\n  id: string\n  size?: number\n  color?: string\n  selected?: boolean\n  children?: React.ReactNode | React.ReactNode[]\n  onMouseEnter?: React.MouseEventHandler<any>\n  onMouseLeave?: React.MouseEventHandler<any>\n  onMouseDown?: React.MouseEventHandler<any>\n  onMouseUp?: React.MouseEventHandler<any>\n  onClick?: React.MouseEventHandler<any>\n}\n\nconst Point = ({\n  id,\n  size = 2,\n  selected = false,\n  color,\n  children,\n  onMouseEnter,\n  onMouseDown,\n  onMouseLeave,\n  onMouseUp,\n  onClick,\n}: PointProps) => {\n  return (\n    <Container data-id={id}>\n      <Circle\n        size={size}\n        color={color}\n        selected={selected}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n        onMouseDown={onMouseDown}\n        onMouseUp={onMouseUp}\n        onClick={onClick}\n      >\n        <div className=\"icon\">{children}</div>\n      </Circle>\n    </Container>\n  )\n}\n\nexport default Point\n","import React, { useCallback, useRef } from \"react\"\n\nimport GrainIcon from \"@mui/icons-material/Grain\"\nimport PolylineIcon from \"@mui/icons-material/Polyline\"\nimport OpenWithIcon from \"@mui/icons-material/OpenWith\"\nimport UploadIcon from \"@mui/icons-material/Upload\"\nimport DownloadIcon from \"@mui/icons-material/Download\"\n\nimport IconButton from \"../../../components/IconButton\"\nimport HorizontalContainer, {\n  Divider,\n} from \"../../../components/HorizontalContainer\"\n\ntype MenuButtonProps = {\n  title: string\n  active?: boolean\n  icon: React.ReactElement\n  onClick: () => void\n}\n\nconst MenuButton = ({\n  title,\n  active = false,\n  icon,\n  onClick,\n}: MenuButtonProps) => {\n  return (\n    <IconButton\n      tooltip={title}\n      tooltipColor=\"primary\"\n      tooltipPlacement=\"top\"\n      active={active}\n      variant=\"outlined\"\n      size={\"32px\"}\n      onClick={onClick}\n    >\n      {icon}\n    </IconButton>\n  )\n}\n\ntype EditorButtonsProps = {\n  editMode: string\n  onModeChanged: (mode: string) => void\n  onClickUpload: (event: React.ChangeEvent<HTMLInputElement>) => void\n  onClickDownload: () => void\n}\n\nconst EditorButtons = ({\n  editMode,\n  onModeChanged,\n  onClickUpload,\n  onClickDownload,\n}: EditorButtonsProps): React.ReactElement => {\n  const onSelectMode = (mode: string) => {\n    onModeChanged(mode)\n  }\n\n  const ModeButtons = useCallback((): React.ReactElement => {\n    return (\n      <>\n        <MenuButton\n          title=\" /\"\n          active={editMode === \"add\"}\n          icon={<GrainIcon />}\n          onClick={() => onSelectMode(\"add\")}\n        />\n        <MenuButton\n          title=\" \"\n          active={editMode === \"link\"}\n          icon={<PolylineIcon />}\n          onClick={() => onSelectMode(\"link\")}\n        />\n        <MenuButton\n          title=\" \"\n          active={editMode === \"move\"}\n          icon={<OpenWithIcon />}\n          onClick={() => onSelectMode(\"move\")}\n        />\n      </>\n    )\n  }, [editMode])\n\n  const UploadButton = useCallback((): React.ReactElement => {\n    const ref = useRef<HTMLInputElement>(null)\n    return (\n      <>\n        <label\n          htmlFor=\"upload-log\"\n          style={{\n            width: \"100%\",\n          }}\n        >\n          <input\n            ref={ref}\n            style={{ display: \"none\" }}\n            id=\"upload-log\"\n            name=\"upload-log\"\n            type=\"file\"\n            accept=\".json,application/json\"\n            onChange={onClickUpload}\n          />\n          <MenuButton\n            title=\"\"\n            icon={<UploadIcon />}\n            onClick={() => {\n              if (ref.current) {\n                ref.current.click()\n              }\n            }}\n          />\n        </label>\n      </>\n    )\n  }, [onClickUpload])\n\n  const DownloadButton = useCallback(\n    (): React.ReactElement => (\n      <MenuButton\n        title=\"\"\n        icon={<DownloadIcon />}\n        onClick={onClickDownload}\n      />\n    ),\n    [onClickDownload]\n  )\n\n  return (\n    <>\n      <HorizontalContainer position=\"bottom\">\n        <ModeButtons />\n        <Divider />\n        <UploadButton />\n        <DownloadButton />\n      </HorizontalContainer>\n    </>\n  )\n}\n\nexport default EditorButtons\n","export const randomColor = () => \"#\" + Math.random().toString(16).slice(-6)\n\nexport const randomLightColor = () => {\n  const rgb = shuffleArray([\n    Math.random() * 128 + 48,\n    Math.random() * 128 + 80,\n    Math.random() * 64 + 192\n  ].map(Math.round));\n  return arrayToHex(rgb)\n}\n\nexport const randomDarkColor = () => {\n  const rgb = shuffleArray([\n    Math.random() * 64,\n    Math.random() * 128,\n    Math.random() * 64 + 128\n  ].map(Math.round))\n  return arrayToHex(rgb)\n}\n\nfunction arrayToHex(rgb: number[]) {\n  return \"#\" + rgb.map((c: number) => c.toString(16).padStart(2, \"0\")).join(\"\")\n}\n\nfunction shuffleArray(array: any[]) {\n  const a = [...array]\n  for (var i = a.length - 1; i > 0; i--) {\n      var j = Math.floor(Math.random() * (i + 1));\n      var temp = a[i];\n      a[i] = a[j];\n      a[j] = temp;\n  }\n  return a\n}\n","export interface Node {\n  lat: number\n  lng: number\n}\n\nexport interface Edge {\n  from: number\n  to: number\n}\n\nclass UnionSet {\n  nodes: Node[]\n  parentIdx: Map<string | number, string | number>\n\n  constructor(nodes: Node[]) {\n    this.nodes = nodes\n\n    this.parentIdx = new Map()\n  }\n\n  hasKey(id: string | number): boolean {\n    return id in this.parentIdx\n  }\n\n  find(id: string | number): string | number {\n    const parent = this.parentIdx.get(id)\n    if (!parent || id === parent) {\n      this.parentIdx.set(id, id)\n      return id\n    } else {\n      const president = this.find(parent)\n      this.parentIdx.set(id, president)\n      return president\n    }\n  }\n\n  merge(a: string | number, b: string | number): void {\n    const ga = this.find(a)\n    const gb = this.find(b)\n    this.parentIdx.set(ga, gb)\n  }\n\n  keys(): Array<string | number> {\n    return Array.from(this.parentIdx.keys())\n  }\n}\n\nexport default UnionSet\n","/* global kakao */\n\nimport React, { useEffect, useState, useCallback, useMemo } from \"react\"\n\nimport Point from \"../../components/Point\"\nimport EditorButtons from \"./Controls/EditorButtons\"\nimport { jsonToBlob, saveFile } from \"../../helpers/fileInteracts\"\nimport { randomDarkColor } from \"../../helpers/colors\"\nimport UnionSet from \"../../helpers/unionSet\"\n\nimport { CustomOverlayMap, useMap, Polyline } from \"react-kakao-maps-sdk\"\n\ntype NodeType = {\n  key: string\n  lat: number\n  lng: number\n}\n\ntype EdgeType = {\n  from: string\n  to: string\n}\n\nconst saveGraphFile = (\n  nodes: Array<NodeType>,\n  edges: Array<EdgeType>\n): void => {\n  const keys: Array<string> = nodes.map(({ key }) => key)\n  const keyToIndex = (key: string): number => keys.indexOf(key)\n  const transformed = {\n    nodes: nodes.map(({ key, lat, lng }: NodeType) => ({\n      id: keyToIndex(key),\n      lat,\n      lng,\n      info: {},\n    })),\n    edges: edges.map(({ from, to }: EdgeType) => ({\n      from: keyToIndex(from),\n      to: keyToIndex(to),\n    })),\n  }\n  const filename = \"graph-\" + new Date().toISOString() + \".json\"\n  saveFile(filename, jsonToBlob(transformed))\n}\n\nconst Editor = (): React.ReactElement => {\n  const map: kakao.maps.Map = useMap()\n  const [nodes, setNodes] = useState<Array<NodeType>>([])\n  const [bufNodes, _setBufNodes] = useState<Array<NodeType>>([])\n  const [edges, setEdges] = useState<Array<EdgeType>>([])\n  const [level, setLevel] = useState<number>(1)\n  const [editMode, setEditMode] = useState<string>(\"add\")\n  const [selected, setSelected] = useState<Array<string>>([])\n  const [cursorPos, setCursorPos] = useState<NodeType>()\n\n  const [_visibleEdges, _setVisibleEdges] = useState<EdgeType[]>([])\n  const [graphColors, setGraphColors] = useState<Map<string, string>>(new Map())\n\n  const visibleEdges = useMemo((): Array<EdgeType> => {\n    console.log(\"_visibleEdges\", _visibleEdges)\n    return _visibleEdges.map((edge: EdgeType) => {\n      const { from, to } = edge\n      return edge\n    })\n  }, [_visibleEdges])\n\n  useEffect(() => {\n    const _edges = edges.filter(({ from, to }: EdgeType) => {\n      for (const { key } of bufNodes) {\n        if (from === key || to === key) return true\n      }\n      return false\n    })\n    _setVisibleEdges(_edges)\n  }, [bufNodes, edges])\n\n  useEffect(() => {\n    const union = new UnionSet(nodes)\n    for (const e of edges) {\n      union.merge(e.from, e.to)\n    }\n    const colorMap = new Map<string, string>()\n    const groupColors = new Map<string, string>()\n    for (const key of union.keys()) {\n      groupColors.set(key as string, randomDarkColor())\n    }\n    for (const { from, to } of edges) {\n      const a = union.find(from) as string\n      const b = union.find(to) as string\n      colorMap.set(from, groupColors.get(a) as string)\n      colorMap.set(to, groupColors.get(b) as string)\n    }\n    console.log(\"set graph colors\", colorMap)\n    setGraphColors(colorMap)\n  }, [nodes, edges])\n\n  const getMapBounds = useCallback(() => {\n    const bounds = map.getBounds()\n    const level = map.getLevel()\n    const [ne, sw] = [bounds.getNorthEast(), bounds.getSouthWest()]\n    const top = sw.getLat()\n    const left = sw.getLng()\n    const bottom = ne.getLat()\n    const right = ne.getLng()\n    const width: number = right - left\n    const height: number = bottom - top\n    return {\n      level,\n      top,\n      left,\n      bottom,\n      right,\n      width,\n      height,\n    }\n  }, [map])\n\n  const setTmpNodes = useCallback(\n    (newNodes: Array<NodeType>) => {\n      const { top, left, bottom, right, width, height, level } = getMapBounds()\n      const nodesInBounds = newNodes.filter(\n        ({ lat, lng }: NodeType): boolean =>\n          top <= lat && lat <= bottom && left <= lng && lng <= right\n      )\n      type nodeInGrid = { lat: number; lng: number; grid: string }\n      const nodesInGrid: Array<nodeInGrid> = nodesInBounds.map(\n        ({ key, lat, lng }) => ({\n          id: key,\n          key,\n          lat,\n          lng,\n          grid: `${Math.round(lat / (width / 100))},${Math.round(\n            lng / (height / 100)\n          )}`,\n        })\n      )\n      const compressNodesInGrid: Array<NodeType> = [\n        ...Array.from(\n          new Map(\n            nodesInGrid.map(({ key, grid, lat, lng }: any) => [\n              grid,\n              {\n                id: key,\n                key,\n                lat,\n                lng,\n              } as NodeType,\n            ])\n          ).values()\n        ),\n      ]\n      console.log(\"Bounds:\", top, left, bottom, right)\n      console.log(\"Nodes(Grid)\", nodesInGrid, compressNodesInGrid)\n      console.log(\"Bounds (width, height)\", bottom - top, right - left, level)\n      console.log(\"Set New Temporal Nodes\", compressNodesInGrid)\n      _setBufNodes(compressNodesInGrid)\n    },\n    [getMapBounds]\n  )\n\n  const isSelected = useCallback(\n    (id: string) => selected.indexOf(id) !== -1,\n    [selected]\n  )\n\n  const selectedNode = useMemo((): NodeType | null => {\n    const node = nodes.filter(({ key }) => isSelected(key))\n    return node.length > 0 ? node[0] : null\n  }, [nodes, isSelected])\n\n  const createEdge = (from: NodeType, to: NodeType) => {\n    setEdges((prev) =>\n      prev\n        .filter((edge) => !(edge.from == from.key && edge.to == to.key))\n        .concat({\n          from: from.key,\n          to: to.key,\n        } as EdgeType)\n    )\n  }\n\n  const findNode = (id: string, array: Array<NodeType>): NodeType | null => {\n    for (const node of array) {\n      const { key } = node\n      if (key === id) return node\n    }\n    return null\n  }\n\n  const getNode = useCallback(\n    (id: string): NodeType | null => {\n      return findNode(id, nodes)\n    },\n    [nodes]\n  )\n\n  const isNodeVisible = useCallback(\n    (id: string): boolean => {\n      const result = findNode(id, bufNodes) !== null\n      console.log(\"isNodeVisible\", id, result)\n      return result\n    },\n    [bufNodes]\n  )\n\n  useEffect(() => {\n    setLevel(map.getLevel())\n    setTimeout(() => {\n      map.relayout()\n    }, 0)\n  }, [map])\n\n  useEffect(() => {\n    // update edge to sync up\n    const hasNode = (id: string): boolean => getNode(id) !== null\n    setEdges((prev) =>\n      prev.filter(({ from, to }: EdgeType) => hasNode(from) && hasNode(to))\n    )\n  }, [getNode, setEdges])\n\n  useEffect(() => {\n    console.log(\"selected\", selected)\n    if (selected.length >= 2) {\n      const [fromID, toID] = selected\n      const [from, to] = [getNode(fromID), getNode(toID)]\n      if (from !== null && to !== null) {\n        createEdge(from, to)\n        setCursorPos(undefined)\n        setSelected([])\n      }\n      return\n    }\n  }, [selected, getNode, setCursorPos])\n\n  const onMapClick = useCallback(\n    (evt: any) => {\n      const { latLng: loc } = evt\n      if (editMode !== \"add\") {\n        return\n      }\n      const lat = loc.getLat()\n      const lng = loc.getLng()\n      console.log(\"Map Clicked\", lat, lng)\n      setNodes((prev) => {\n        const nodeId = Math.random().toString(16).slice(2) as string\n        const node = { key: `node-${nodeId}`, lat, lng } as NodeType\n        console.log(\"add node\", node)\n        return [...prev, node]\n      })\n    },\n    [editMode]\n  )\n\n  const onMapMouseUp = useCallback((evt: any) => {}, [])\n\n  const onMapMouseMove = useCallback(\n    (evt: any) => {\n      const { latLng: loc } = evt\n      const lat = loc.getLat()\n      const lng = loc.getLng()\n      if (editMode === \"link\") {\n        setCursorPos({ key: \"cursor\", lat, lng } as NodeType)\n      } else if (editMode === \"move\") {\n        if (selected.length != 1) {\n          return\n        }\n        setNodes((prev) =>\n          prev.map((node: NodeType): NodeType => {\n            if (selected[0] !== node.key) {\n              return node\n            } else {\n              return { ...node, lat, lng }\n            }\n          })\n        )\n      }\n    },\n    [editMode, setNodes, selected, setCursorPos]\n  )\n\n  useEffect(() => {\n    const updateNodes = () => setTmpNodes(nodes)\n    kakao.maps.event.addListener(map, \"idle\", updateNodes)\n    return () => {\n      kakao.maps.event.addListener(map, \"idle\", updateNodes)\n    }\n  }, [map, nodes])\n\n  useEffect(() => {\n    setTmpNodes(nodes)\n  }, [nodes])\n\n  useEffect(() => {\n    map.setCursor(\"default\")\n    kakao.maps.event.addListener(map, \"click\", onMapClick)\n    kakao.maps.event.addListener(map, \"mouseup\", onMapMouseUp)\n    kakao.maps.event.addListener(map, \"mousemove\", onMapMouseMove)\n    return () => {\n      map.setCursor(\"\")\n      kakao.maps.event.removeListener(map, \"click\", onMapClick)\n      kakao.maps.event.removeListener(map, \"mouseup\", onMapMouseUp)\n      kakao.maps.event.removeListener(map, \"mousemove\", onMapMouseMove)\n    }\n  }, [map, onMapClick, onMapMouseUp, onMapMouseMove])\n\n  const onMouseDownPoint = useCallback(\n    (evt: any) => {\n      const container = evt.target.closest(\"[data-id]\") as HTMLElement\n      if (!container) return\n      const id = container.getAttribute(\"data-id\") || \"\"\n      const mouseType = evt.button as number\n      if (editMode === \"add\") {\n        if (mouseType === 2) {\n          // right button\n          setNodes((prev) => [...prev].filter(({ key }) => key !== id))\n        }\n      } else if (editMode === \"link\") {\n        if (mouseType === 0) {\n          // left button to select\n          setSelected((prev) => prev.filter((i) => i != id).concat(id))\n        } else if (mouseType === 2) {\n          // right button to unselect\n          setSelected((prev) => prev.filter((i) => i != id))\n        }\n      } else if (editMode === \"move\") {\n        if (mouseType === 0) {\n          // left button to move\n          setSelected((prev) => (prev.length > 0 ? [] : [id]))\n        }\n      }\n    },\n    [editMode, setNodes, setSelected]\n  )\n\n  const onMouseUpPoint = useCallback((evt: any) => {}, [])\n\n  const guideLine = useMemo(\n    (): React.ReactElement => (\n      <>\n        {editMode === \"link\" && selectedNode && cursorPos && (\n          <Polyline\n            key={`edge-guide`}\n            path={[selectedNode, cursorPos].map(({ lat, lng }: NodeType) => ({\n              lat,\n              lng,\n            }))}\n            strokeWeight={3}\n            strokeColor=\"#db4040\"\n            strokeOpacity={1}\n            strokeStyle=\"dashed\"\n          />\n        )}\n      </>\n    ),\n    [editMode, selectedNode, cursorPos]\n  )\n\n  const NodePoints = useCallback((): React.ReactElement => {\n    const { level } = getMapBounds()\n    return (\n      <>\n        {bufNodes.map(\n          ({ key, lat, lng }: NodeType): React.ReactElement => (\n            <CustomOverlayMap\n              position={{\n                lat,\n                lng,\n              }}\n              key={key}\n            >\n              <Point\n                id={key}\n                color={graphColors.get(key)}\n                size={6 / level}\n                selected={isSelected(key)}\n                onMouseDown={onMouseDownPoint}\n                onMouseUp={onMouseUpPoint}\n              />\n            </CustomOverlayMap>\n          )\n        )}\n      </>\n    )\n  }, [\n    bufNodes,\n    graphColors,\n    getMapBounds,\n    isSelected,\n    onMouseDownPoint,\n    onMouseUpPoint,\n  ])\n\n  const EdgeLines = useCallback((): React.ReactElement => {\n    console.log(\"graph colors\", graphColors)\n    return (\n      <>\n        {visibleEdges.map(({ from, to }: EdgeType): React.ReactElement => {\n          const path: Array<any> = [from, to]\n            .map(getNode)\n            .filter((n) => n !== null)\n          if (path.length != 2) {\n            return <></>\n          }\n          return (\n            <Polyline\n              key={`edge-${from}-${to}`}\n              path={path.map(({ lat, lng }: NodeType) => ({\n                lat,\n                lng,\n              }))}\n              strokeWeight={3}\n              strokeColor={graphColors.get(from)}\n              strokeOpacity={1}\n              strokeStyle=\"solid\"\n            />\n          )\n        })}\n      </>\n    )\n  }, [visibleEdges, graphColors, getNode, isNodeVisible])\n\n  const fitMapBound = useCallback(\n    (nodes: NodeType[]) => {\n      if (nodes.length < 1) return\n      const bounds = new kakao.maps.LatLngBounds()\n      nodes.forEach(({ lat, lng }) => {\n        bounds.extend(new kakao.maps.LatLng(lat, lng))\n      })\n      map.setBounds(bounds)\n      setTimeout(() => {\n        map.relayout()\n      }, 0)\n    },\n    [map]\n  )\n\n  const loadGraphFromFile = useCallback(\n    (evt: React.ChangeEvent<HTMLInputElement>) => {\n      const files = evt.target.files\n      if (!files || files.length < 1) {\n        return\n      }\n      const file = files[0]\n      const reader: FileReader = new FileReader()\n      reader.addEventListener(\"load\", (event: any) => {\n        const result = event.target.result\n        try {\n          const { nodes, edges } = JSON.parse(result)\n          const newNodes: Array<NodeType> = nodes.map(\n            ({ id, lat, lng }: any) =>\n              ({\n                key: `node-${id}`,\n                lat,\n                lng,\n              } as NodeType)\n          )\n          setNodes(newNodes)\n          setEdges(\n            edges.map(\n              ({ from, to }: any) =>\n                ({\n                  from: (newNodes[from] as NodeType).key,\n                  to: (newNodes[to] as NodeType).key,\n                } as EdgeType)\n            )\n          )\n          fitMapBound(nodes)\n          // console.log(nodes, edges)\n        } catch {\n          window.alert(\"Failed to parse JSON\")\n        }\n      })\n      reader.readAsText(file)\n    },\n    [setNodes, setEdges]\n  )\n\n  const downloadGraphToFile = useCallback(\n    () => saveGraphFile(nodes, edges),\n    [nodes, edges]\n  )\n\n  return (\n    <>\n      <EdgeLines />\n      {guideLine}\n      <NodePoints />\n      <EditorButtons\n        editMode={editMode || \"add\"}\n        onClickDownload={downloadGraphToFile}\n        onClickUpload={loadGraphFromFile}\n        onModeChanged={setEditMode}\n      />\n    </>\n  )\n}\n\nexport default Editor\n","export const saveFile = (filename: string, blob: Blob) => {\n  const a = document.createElement(\"a\")\n  a.download = filename\n  a.href = URL.createObjectURL(blob)\n  a.dataset.downloadurl = [\"text/json\", a.download, a.href].join(\":\")\n  a.addEventListener(\"click\", (e) => {\n    setTimeout(() => URL.revokeObjectURL(a.href), 30 * 1000)\n  })\n  a.click()\n}\n\nexport const jsonToBlob = (json: object): Blob =>\n  new Blob([JSON.stringify(json, null, 2)], {\n    type: \"application/json\",\n  })\n","import React, { createContext, useState, useContext } from \"react\"\n\nexport interface ContextState<T> {\n  state: T\n  setState: React.Dispatch<React.SetStateAction<ControlState>>\n}\n\nexport interface ControlState {\n  mode: \"view\" | \"edit\"\n  viewSpeed?: number\n  viewRunning?: boolean\n}\n\nconst initialState: ControlState = {\n  mode: \"view\",\n  viewSpeed: 1.0,\n  viewRunning: false,\n}\n\nconst Context: any = createContext<ContextState<ControlState> | undefined>(\n  undefined\n)\n\nexport const ControlProvider = (props: any) => {\n  const [state, setState] = useState<ControlState>(initialState)\n\n  // const setContext = (state: ControlState) => {\n  //   setState((prevState: ControlState) => ({ ...prevState, ...state }))\n  // }\n\n  return (\n    <Context.Provider value={{ state: { ...state }, setState }}>\n      <>{props.children}</>\n    </Context.Provider>\n  )\n}\n\nexport const useControlState = (): [\n  ControlState,\n  React.Dispatch<React.SetStateAction<ControlState>>\n] => {\n  const ctx: ContextState<ControlState> | undefined = useContext(Context)\n  if (ctx === undefined) {\n    throw new Error(\"useControlState should be used within ControlProvider\")\n  }\n  const { state, setState } = ctx\n  return [\n    state as ControlState,\n    setState as React.Dispatch<React.SetStateAction<ControlState>>,\n  ]\n}\n","import React, { useState, useCallback } from \"react\"\n\nimport KakaoMap from \"../../components/KakaoMap\"\nimport HorizontalContainer from \"../../components/HorizontalContainer\"\nimport { Button } from \"@mui/joy\"\nimport Viewer from \"./Viewer\"\nimport Editor from \"./Editor\"\nimport CableIcon from \"@mui/icons-material/Cable\"\nimport LocalTaxiIcon from \"@mui/icons-material/LocalTaxi\"\nimport { useControlState, ControlState } from \"../../providers/ControlProvider\"\n\nimport \"./index.css\"\n\ntype SwitchButtonProps = React.PropsWithChildren & {\n  mode: \"view\" | \"edit\"\n  onChange: (mode: string) => void\n}\n\nconst SwitchButton = ({\n  mode,\n  onChange,\n}: SwitchButtonProps): React.ReactElement => (\n  <>\n    <Button\n      size=\"sm\"\n      startDecorator={<LocalTaxiIcon />}\n      variant={mode === \"view\" ? \"solid\" : \"plain\"}\n      onClick={() => onChange(\"view\")}\n      sx={{\n        borderTopRightRadius: 0,\n        borderBottomRightRadius: 0,\n      }}\n    >\n      Viewer\n    </Button>\n    <Button\n      size=\"sm\"\n      startDecorator={<CableIcon />}\n      variant={mode === \"edit\" ? \"solid\" : \"plain\"}\n      onClick={() => onChange(\"edit\")}\n      sx={{\n        borderTopLeftRadius: 0,\n        borderBottomLeftRadius: 0,\n      }}\n    >\n      Editor\n    </Button>\n  </>\n)\n\nexport default function Map() {\n  const [controls, setControls] = useControlState()\n\n  const latitude = 37.52897\n  const longitude = 126.917101\n  const [level, setLevel] = useState<number>(3)\n\n  const SwitchButtonControlled = useCallback(\n    (): React.ReactElement => (\n      <HorizontalContainer\n        position=\"top\"\n        gap={0}\n        style={{\n          padding: 0,\n          height: \"auto\",\n        }}\n      >\n        <SwitchButton\n          mode={controls.mode}\n          onChange={(mode: string) => {\n            setControls((prev) => ({ ...prev, mode } as ControlState))\n          }}\n        />\n      </HorizontalContainer>\n    ),\n    [(controls as ControlState).mode, setControls]\n  )\n\n  return (\n    <>\n      <KakaoMap\n        center={{\n          lat: latitude,\n          lng: longitude,\n        }}\n        level={level}\n        onZoomChanged={(map) => setLevel(map.getLevel())}\n        style={{\n          width: \"100%\",\n          height: \"100vh\",\n          zIndex: 0,\n        }}\n      >\n        <SwitchButtonControlled />\n        {controls.mode == \"view\" ? <Viewer /> : <Editor />}\n      </KakaoMap>\n    </>\n  )\n}\n","import React from \"react\"\nimport Map from \"./Map\"\nimport { ControlProvider } from \"../providers/ControlProvider\"\nimport { StatusProvider } from \"../providers/StatusProvider\"\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <StatusProvider>\n        <ControlProvider>\n          <Map />\n        </ControlProvider>\n      </StatusProvider>\n    </div>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\"\nimport ReactDOM from \"react-dom/client\"\nimport \"./index.css\"\nimport App from \"./pages/App\"\nimport reportWebVitals from \"./reportWebVitals\"\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\") as HTMLElement)\nroot.render(\n  // <React.StrictMode>\n  <App />\n  // </React.StrictMode>\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}